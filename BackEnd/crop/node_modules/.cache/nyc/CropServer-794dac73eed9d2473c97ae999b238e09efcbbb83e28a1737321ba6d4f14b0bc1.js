function cov_rgrmkob2m(){var path="C:\\Users\\maimr\\Desktop\\show\\hello\\BackEnd\\crop\\CropServer.js";var hash="22cdffba1f79922749f7ef954ce240902bda0043";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\maimr\\Desktop\\show\\hello\\BackEnd\\crop\\CropServer.js",statementMap:{"0":{start:{line:2,column:11},end:{line:2,column:26}},"1":{start:{line:3,column:14},end:{line:3,column:32}},"2":{start:{line:4,column:13},end:{line:4,column:30}},"3":{start:{line:5,column:15},end:{line:5,column:34}},"4":{start:{line:6,column:13},end:{line:6,column:30}},"5":{start:{line:7,column:17},end:{line:7,column:39}},"6":{start:{line:8,column:11},end:{line:8,column:26}},"7":{start:{line:9,column:14},end:{line:9,column:32}},"8":{start:{line:10,column:10},end:{line:10,column:33}},"9":{start:{line:11,column:17},end:{line:11,column:40}},"10":{start:{line:13,column:11},end:{line:13,column:32}},"11":{start:{line:15,column:10},end:{line:15,column:19}},"12":{start:{line:16,column:0},end:{line:16,column:48}},"13":{start:{line:17,column:0},end:{line:17,column:27}},"14":{start:{line:18,column:0},end:{line:18,column:23}},"15":{start:{line:21,column:12},end:{line:21,column:113}},"16":{start:{line:22,column:0},end:{line:32,column:3}},"17":{start:{line:28,column:4},end:{line:28,column:42}},"18":{start:{line:31,column:4},end:{line:31,column:46}},"19":{start:{line:34,column:0},end:{line:34,column:46}},"20":{start:{line:37,column:0},end:{line:46,column:2}},"21":{start:{line:38,column:4},end:{line:38,column:50}},"22":{start:{line:39,column:4},end:{line:40,column:65}},"23":{start:{line:41,column:4},end:{line:44,column:5}},"24":{start:{line:42,column:8},end:{line:42,column:79}},"25":{start:{line:43,column:8},end:{line:43,column:39}},"26":{start:{line:45,column:4},end:{line:45,column:11}},"27":{start:{line:49,column:0},end:{line:64,column:1}},"28":{start:{line:50,column:4},end:{line:63,column:5}},"29":{start:{line:51,column:8},end:{line:58,column:9}},"30":{start:{line:52,column:12},end:{line:52,column:19}},"31":{start:{line:55,column:12},end:{line:57,column:14}},"32":{start:{line:60,column:8},end:{line:62,column:10}},"33":{start:{line:66,column:16},end:{line:73,column:2}},"34":{start:{line:68,column:8},end:{line:68,column:29}},"35":{start:{line:71,column:8},end:{line:71,column:35}},"36":{start:{line:75,column:17},end:{line:82,column:1}},"37":{start:{line:76,column:4},end:{line:81,column:5}},"38":{start:{line:77,column:8},end:{line:77,column:21}},"39":{start:{line:80,column:8},end:{line:80,column:51}},"40":{start:{line:84,column:13},end:{line:86,column:3}},"41":{start:{line:90,column:0},end:{line:90,column:30}},"42":{start:{line:94,column:0},end:{line:94,column:35}},"43":{start:{line:98,column:1},end:{line:98,column:41}},"44":{start:{line:102,column:0},end:{line:102,column:41}},"45":{start:{line:106,column:0},end:{line:106,column:36}},"46":{start:{line:109,column:0},end:{line:113,column:2}},"47":{start:{line:110,column:16},end:{line:110,column:38}},"48":{start:{line:111,column:4},end:{line:111,column:21}},"49":{start:{line:112,column:4},end:{line:112,column:16}},"50":{start:{line:115,column:0},end:{line:122,column:2}},"51":{start:{line:116,column:4},end:{line:116,column:36}},"52":{start:{line:117,column:4},end:{line:121,column:6}},"53":{start:{line:127,column:15},end:{line:127,column:83}},"54":{start:{line:127,column:37},end:{line:127,column:82}},"55":{start:{line:129,column:0},end:{line:129,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:27,column:6},end:{line:27,column:7}},loc:{start:{line:27,column:10},end:{line:29,column:1}},line:27},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:7},end:{line:30,column:8}},loc:{start:{line:30,column:14},end:{line:32,column:1}},line:30},"2":{name:"(anonymous_2)",decl:{start:{line:37,column:8},end:{line:37,column:9}},loc:{start:{line:37,column:24},end:{line:46,column:1}},line:37},"3":{name:"(anonymous_3)",decl:{start:{line:49,column:10},end:{line:49,column:11}},loc:{start:{line:49,column:26},end:{line:64,column:1}},line:49},"4":{name:"(anonymous_4)",decl:{start:{line:67,column:16},end:{line:67,column:17}},loc:{start:{line:67,column:31},end:{line:69,column:5}},line:67},"5":{name:"(anonymous_5)",decl:{start:{line:70,column:13},end:{line:70,column:14}},loc:{start:{line:70,column:28},end:{line:72,column:5}},line:70},"6":{name:"(anonymous_6)",decl:{start:{line:75,column:17},end:{line:75,column:18}},loc:{start:{line:75,column:32},end:{line:82,column:1}},line:75},"7":{name:"(anonymous_7)",decl:{start:{line:109,column:8},end:{line:109,column:9}},loc:{start:{line:109,column:24},end:{line:113,column:1}},line:109},"8":{name:"(anonymous_8)",decl:{start:{line:115,column:8},end:{line:115,column:9}},loc:{start:{line:115,column:30},end:{line:122,column:1}},line:115},"9":{name:"(anonymous_9)",decl:{start:{line:127,column:33},end:{line:127,column:34}},loc:{start:{line:127,column:37},end:{line:127,column:82}},line:127}},branchMap:{"0":{loc:{start:{line:41,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:44,column:5}},{start:{line:41,column:4},end:{line:44,column:5}}],line:41},"1":{loc:{start:{line:51,column:8},end:{line:58,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:58,column:9}},{start:{line:51,column:8},end:{line:58,column:9}}],line:51},"2":{loc:{start:{line:51,column:11},end:{line:51,column:62}},type:"binary-expr",locations:[{start:{line:51,column:11},end:{line:51,column:34}},{start:{line:51,column:38},end:{line:51,column:62}}],line:51},"3":{loc:{start:{line:76,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:81,column:5}},{start:{line:76,column:4},end:{line:81,column:5}}],line:76},"4":{loc:{start:{line:76,column:7},end:{line:76,column:70}},type:"binary-expr",locations:[{start:{line:76,column:7},end:{line:76,column:37}},{start:{line:76,column:41},end:{line:76,column:70}}],line:76},"5":{loc:{start:{line:116,column:15},end:{line:116,column:34}},type:"binary-expr",locations:[{start:{line:116,column:15},end:{line:116,column:27}},{start:{line:116,column:31},end:{line:116,column:34}}],line:116}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"22cdffba1f79922749f7ef954ce240902bda0043"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_rgrmkob2m=function(){return actualCoverage;};}return actualCoverage;}cov_rgrmkob2m();//import libraries
const http=(cov_rgrmkob2m().s[0]++,require("http"));const express=(cov_rgrmkob2m().s[1]++,require("express"));const multer=(cov_rgrmkob2m().s[2]++,require("multer"));const mongoose=(cov_rgrmkob2m().s[3]++,require("mongoose"));const morgan=(cov_rgrmkob2m().s[4]++,require("morgan"));const bodyParser=(cov_rgrmkob2m().s[5]++,require("body-parser"));const cors=(cov_rgrmkob2m().s[6]++,require("cors"));const bcrypt=(cov_rgrmkob2m().s[7]++,require("bcrypt"));const jwt=(cov_rgrmkob2m().s[8]++,require("jsonwebtoken"));const cropschema=(cov_rgrmkob2m().s[9]++,require("./CropSchema"));const core=(cov_rgrmkob2m().s[10]++,require("./cropCore"));const app=(cov_rgrmkob2m().s[11]++,express());cov_rgrmkob2m().s[12]++;app.use(bodyParser.urlencoded({extended:false}));cov_rgrmkob2m().s[13]++;app.use(bodyParser.json());cov_rgrmkob2m().s[14]++;app.use(morgan("dev"));//connecting to database
const dbURI=(cov_rgrmkob2m().s[15]++,"mongodb+srv://imran:imran123@cluster0.ktn7e.mongodb.net/AgricultureCrop?retryWrites=true&w=majority");cov_rgrmkob2m().s[16]++;mongoose.connect(dbURI,{useNewUrlParser:true,useUnifiedTopology:true,useCreateIndex:true,useFindAndModify:true}).then(()=>{cov_rgrmkob2m().f[0]++;cov_rgrmkob2m().s[17]++;console.log("crop database connected");}).catch(err=>{cov_rgrmkob2m().f[1]++;cov_rgrmkob2m().s[18]++;console.log("db connection error:"+err);});cov_rgrmkob2m().s[19]++;app.use('/uploads',express.static('uploads'));//for browsers only
cov_rgrmkob2m().s[20]++;app.use((req,res,next)=>{cov_rgrmkob2m().f[2]++;cov_rgrmkob2m().s[21]++;res.header("Access-Control-Allow-Origin",'*');cov_rgrmkob2m().s[22]++;res.header("Access-Control-Allow-Headers",'Origin,X-Requested-With,Content-Type,Accept,Authorization');cov_rgrmkob2m().s[23]++;if(req.method==='OPTIONS'){cov_rgrmkob2m().b[0][0]++;cov_rgrmkob2m().s[24]++;res.header('Access-Control-Allow-Methods','PUT,POST,PATCH,DELETE,GET');cov_rgrmkob2m().s[25]++;return res.status(200).json({});}else{cov_rgrmkob2m().b[0][1]++;}cov_rgrmkob2m().s[26]++;next();});//checking Authorization in middleware
cov_rgrmkob2m().s[27]++;CheckAuth=(req,res,next)=>{cov_rgrmkob2m().f[3]++;cov_rgrmkob2m().s[28]++;try{cov_rgrmkob2m().s[29]++;if((cov_rgrmkob2m().b[2][0]++,req.body.role==="ADMIN")||(cov_rgrmkob2m().b[2][1]++,req.body.role==="FARMER")){cov_rgrmkob2m().b[1][0]++;cov_rgrmkob2m().s[30]++;next();}else{cov_rgrmkob2m().b[1][1]++;cov_rgrmkob2m().s[31]++;res.status(404).json({message:"Unauthorized Access"});}}catch(error){cov_rgrmkob2m().s[32]++;return res.status(401).json({message:"Auth failed in middleware"});}};const Storage=(cov_rgrmkob2m().s[33]++,multer.diskStorage({destination:(req,file,cb)=>{cov_rgrmkob2m().f[4]++;cov_rgrmkob2m().s[34]++;cb(null,"./uploads/");},filename:(req,file,cb)=>{cov_rgrmkob2m().f[5]++;cov_rgrmkob2m().s[35]++;cb(null,file.originalname);}}));cov_rgrmkob2m().s[36]++;const filefilter=(req,file,cb)=>{cov_rgrmkob2m().f[6]++;cov_rgrmkob2m().s[37]++;if((cov_rgrmkob2m().b[4][0]++,file.mimetype==='image/jpeg')||(cov_rgrmkob2m().b[4][1]++,file.mimetype==='image/png')){cov_rgrmkob2m().b[3][0]++;cov_rgrmkob2m().s[38]++;cb(null,true);}else{cov_rgrmkob2m().b[3][1]++;cov_rgrmkob2m().s[39]++;cb(new Error("Doesnot support type"),false);}};const upload=(cov_rgrmkob2m().s[40]++,multer({storage:Storage,limits:{fileSize:1024*1024*5}}));//getting all data
cov_rgrmkob2m().s[41]++;app.get("/",core.crop_get_all);// fetch particular crop details with name
cov_rgrmkob2m().s[42]++;app.get('/:id',core.crop_get_by_id);//adding crop
cov_rgrmkob2m().s[43]++;app.post("/",CheckAuth,core.upload_crop);//updating a particular crop
cov_rgrmkob2m().s[44]++;app.put("/:id",CheckAuth,core.edit_by_id);//deleteing particular crop
cov_rgrmkob2m().s[45]++;app.delete('/:id',core.delete_by_id);//handing server errors
cov_rgrmkob2m().s[46]++;app.use((req,res,next)=>{cov_rgrmkob2m().f[7]++;const error=(cov_rgrmkob2m().s[47]++,new Error("Not found"));cov_rgrmkob2m().s[48]++;error.status=404;cov_rgrmkob2m().s[49]++;next(error);});cov_rgrmkob2m().s[50]++;app.use((error,req,res,next)=>{cov_rgrmkob2m().f[8]++;cov_rgrmkob2m().s[51]++;res.status((cov_rgrmkob2m().b[5][0]++,error.status)||(cov_rgrmkob2m().b[5][1]++,500));cov_rgrmkob2m().s[52]++;res.json({error:{message:error.message}});});var cropserver=(cov_rgrmkob2m().s[53]++,app.listen("8000",()=>{cov_rgrmkob2m().f[9]++;cov_rgrmkob2m().s[54]++;return console.log("crop server is running on 8000");}));cov_rgrmkob2m().s[55]++;module.exports=cropserver;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNyb3BTZXJ2ZXIuanMiXSwibmFtZXMiOlsiaHR0cCIsInJlcXVpcmUiLCJleHByZXNzIiwibXVsdGVyIiwibW9uZ29vc2UiLCJtb3JnYW4iLCJib2R5UGFyc2VyIiwiY29ycyIsImJjcnlwdCIsImp3dCIsImNyb3BzY2hlbWEiLCJjb3JlIiwiYXBwIiwidXNlIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImRiVVJJIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInVzZUNyZWF0ZUluZGV4IiwidXNlRmluZEFuZE1vZGlmeSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJzdGF0aWMiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVyIiwibWV0aG9kIiwic3RhdHVzIiwiQ2hlY2tBdXRoIiwiYm9keSIsInJvbGUiLCJtZXNzYWdlIiwiZXJyb3IiLCJTdG9yYWdlIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwib3JpZ2luYWxuYW1lIiwiZmlsZWZpbHRlciIsIm1pbWV0eXBlIiwiRXJyb3IiLCJ1cGxvYWQiLCJzdG9yYWdlIiwibGltaXRzIiwiZmlsZVNpemUiLCJnZXQiLCJjcm9wX2dldF9hbGwiLCJjcm9wX2dldF9ieV9pZCIsInBvc3QiLCJ1cGxvYWRfY3JvcCIsInB1dCIsImVkaXRfYnlfaWQiLCJkZWxldGUiLCJkZWxldGVfYnlfaWQiLCJjcm9wc2VydmVyIiwibGlzdGVuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ind4TkFlWTt5RkFmWjtBQUNBLEtBQU1BLENBQUFBLElBQUkseUJBQUNDLE9BQU8sQ0FBQyxNQUFELENBQVIsQ0FBVixDQUNBLEtBQU1DLENBQUFBLE9BQU8seUJBQUNELE9BQU8sQ0FBQyxTQUFELENBQVIsQ0FBYixDQUNBLEtBQU1FLENBQUFBLE1BQU0seUJBQUNGLE9BQU8sQ0FBQyxRQUFE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LENBQW5FLENBQUQsQ0FBZCxDLHdCQUVBd0MsTUFBTSxDQUFDQyxPQUFQLENBQWVILFVBQWYiLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCBsaWJyYXJpZXNcbmNvbnN0IGh0dHA9cmVxdWlyZShcImh0dHBcIik7XG5jb25zdCBleHByZXNzPXJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgbXVsdGVyPXJlcXVpcmUoXCJtdWx0ZXJcIik7XG5jb25zdCBtb25nb29zZT1yZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCBtb3JnYW49cmVxdWlyZShcIm1vcmdhblwiKVxuY29uc3QgYm9keVBhcnNlcj1yZXF1aXJlKFwiYm9keS1wYXJzZXJcIilcbmNvbnN0IGNvcnM9cmVxdWlyZShcImNvcnNcIik7XG5jb25zdCBiY3J5cHQgPXJlcXVpcmUgKFwiYmNyeXB0XCIpO1xuY29uc3Qgand0PXJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5jb25zdCBjcm9wc2NoZW1hPXJlcXVpcmUoXCIuL0Nyb3BTY2hlbWFcIik7XG5cbmNvbnN0IGNvcmU9cmVxdWlyZShcIi4vY3JvcENvcmVcIik7XG5cbmNvbnN0IGFwcD1leHByZXNzKCk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7ZXh0ZW5kZWQ6ZmFsc2V9KSlcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuYXBwLnVzZShtb3JnYW4oXCJkZXZcIikpO1xuXG4vL2Nvbm5lY3RpbmcgdG8gZGF0YWJhc2VcbmNvbnN0IGRiVVJJPVwibW9uZ29kYitzcnY6Ly9pbXJhbjppbXJhbjEyM0BjbHVzdGVyMC5rdG43ZS5tb25nb2RiLm5ldC9BZ3JpY3VsdHVyZUNyb3A/cmV0cnlXcml0ZXM9dHJ1ZSZ3PW1ham9yaXR5XCI7XG5tb25nb29zZS5jb25uZWN0KGRiVVJJLHt1c2VOZXdVcmxQYXJzZXI6dHJ1ZSxcbiAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6dHJ1ZSxcbiAgICB1c2VDcmVhdGVJbmRleDp0cnVlLFxuICAgIHVzZUZpbmRBbmRNb2RpZnk6dHJ1ZVxufSlcbi50aGVuKCgpPT57XG4gICAgY29uc29sZS5sb2coXCJjcm9wIGRhdGFiYXNlIGNvbm5lY3RlZFwiKVxufSlcbi5jYXRjaCgoZXJyKT0+e1xuICAgIGNvbnNvbGUubG9nKFwiZGIgY29ubmVjdGlvbiBlcnJvcjpcIiArIGVycik7XG59KTtcblxuYXBwLnVzZSgnL3VwbG9hZHMnLGV4cHJlc3Muc3RhdGljKCd1cGxvYWRzJykpO1xuXG4vL2ZvciBicm93c2VycyBvbmx5XG5hcHAudXNlKChyZXEscmVzLG5leHQpPT57XG4gICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCcqJyk7XG4gICAgcmVzLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnNcIixcbiAgICAnT3JpZ2luLFgtUmVxdWVzdGVkLVdpdGgsQ29udGVudC1UeXBlLEFjY2VwdCxBdXRob3JpemF0aW9uJyk7XG4gICAgaWYocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKXtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsJ1BVVCxQT1NULFBBVENILERFTEVURSxHRVQnKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHt9KVxuICAgIH1cbiAgICBuZXh0KCk7XG59KVxuXG4vL2NoZWNraW5nIEF1dGhvcml6YXRpb24gaW4gbWlkZGxld2FyZVxuQ2hlY2tBdXRoPShyZXEscmVzLG5leHQpPT57XG4gICAgdHJ5e1xuICAgICAgICBpZihyZXEuYm9keS5yb2xlPT09XCJBRE1JTlwiIHx8IHJlcS5ib2R5LnJvbGU9PT1cIkZBUk1FUlwiKXtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJVbmF1dGhvcml6ZWQgQWNjZXNzXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9IGNhdGNoKGVycm9yKXtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6XCJBdXRoIGZhaWxlZCBpbiBtaWRkbGV3YXJlXCJcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmNvbnN0IFN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICAgIGRlc3RpbmF0aW9uOihyZXEsZmlsZSxjYik9PntcbiAgICAgICAgY2IobnVsbCxcIi4vdXBsb2Fkcy9cIilcbiAgICB9LFxuICAgIGZpbGVuYW1lOihyZXEsZmlsZSxjYik9PntcbiAgICAgICAgY2IobnVsbCxmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgfVxufSlcblxuY29uc3QgZmlsZWZpbHRlcj0ocmVxLGZpbGUsY2IpPT57XG4gICAgaWYoZmlsZS5taW1ldHlwZSA9PT0gJ2ltYWdlL2pwZWcnIHx8IGZpbGUubWltZXR5cGUgPT09ICdpbWFnZS9wbmcnKXtcbiAgICAgICAgY2IobnVsbCx0cnVlKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IobmV3IEVycm9yKFwiRG9lc25vdCBzdXBwb3J0IHR5cGVcIiksZmFsc2UpXG4gICAgfVxufVxuXG5jb25zdCB1cGxvYWQ9bXVsdGVyKHtzdG9yYWdlOlN0b3JhZ2UsbGltaXRzOntcbiAgICBmaWxlU2l6ZToxMDI0KjEwMjQqNVxufX0pXG5cblxuLy9nZXR0aW5nIGFsbCBkYXRhXG5hcHAuZ2V0KFwiL1wiLGNvcmUuY3JvcF9nZXRfYWxsKVxuXG5cbi8vIGZldGNoIHBhcnRpY3VsYXIgY3JvcCBkZXRhaWxzIHdpdGggbmFtZVxuYXBwLmdldCgnLzppZCcsY29yZS5jcm9wX2dldF9ieV9pZClcblxuLy9hZGRpbmcgY3JvcFxuXG4gYXBwLnBvc3QoXCIvXCIsQ2hlY2tBdXRoLGNvcmUudXBsb2FkX2Nyb3ApIFxuXG4gXG4vL3VwZGF0aW5nIGEgcGFydGljdWxhciBjcm9wXG5hcHAucHV0KFwiLzppZFwiLENoZWNrQXV0aCxjb3JlLmVkaXRfYnlfaWQpXG5cblxuLy9kZWxldGVpbmcgcGFydGljdWxhciBjcm9wXG5hcHAuZGVsZXRlKCcvOmlkJyxjb3JlLmRlbGV0ZV9ieV9pZClcblxuLy9oYW5kaW5nIHNlcnZlciBlcnJvcnNcbmFwcC51c2UoKHJlcSxyZXMsbmV4dCk9PntcbiAgICBjb25zdCBlcnJvcj1uZXcgRXJyb3IoXCJOb3QgZm91bmRcIik7XG4gICAgZXJyb3Iuc3RhdHVzPTQwNDtcbiAgICBuZXh0KGVycm9yKTtcbn0pXG5cbmFwcC51c2UoKGVycm9yLHJlcSxyZXMsbmV4dCk9PntcbiAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1cyB8fCA1MDApO1xuICAgIHJlcy5qc29uKHtcbiAgICAgICAgZXJyb3I6e1xuICAgICAgICAgICAgbWVzc2FnZTplcnJvci5tZXNzYWdlXG4gICAgICAgIH1cbiAgICB9KVxufSlcblxuXG5cblxudmFyIGNyb3BzZXJ2ZXI9YXBwLmxpc3RlbihcIjgwMDBcIiwoKT0+Y29uc29sZS5sb2coXCJjcm9wIHNlcnZlciBpcyBydW5uaW5nIG9uIDgwMDBcIikpO1xuXG5tb2R1bGUuZXhwb3J0cz1jcm9wc2VydmVyOyJdfQ==